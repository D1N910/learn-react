<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover" />
    <title>React Demo</title>
</head>
<body>
    <div id="app"></div>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
		<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
		<!-- <script>
			class Events {
				constructor() {
					// 缓存 被订阅的事件以及对应的回调函数
					this.cache = {}
				}

				/**
				 * 发布
				 * topic 发布的事件名称
				 * parameter 传递的参数
				 * scope 绑定执行的对象
				**/
				publish(topic, parameter, scope) {
					const thisTopic = this.cache[topic]

					// 如果有订阅
					if (thisTopic) {
						let i = thisTopic.length - 1
						for (i; i >=0; i -= 1) {
							// 执行订阅回调
							thisTopic[i].apply(scope || this, parameter || [])
						}
					}
				}

				/**
				 * 订阅
				 * topic 发布的事件名称
				 * callback 回调参数
				**/
				subscribe(topic, callback) {
					if (!this.cache[topic]) {
						this.cache[topic] = []
					}

					// 添加回调
					this.cache[topic].push(callback)

					// 可以方便用于取消订阅
					return [topic, callback]
				}

				/**
				 * 取消订阅
				 * handle [topic, callback]
				 * complety 是否把所有该同名事件订阅都取消
				**/
				unsubscribe(handle, complety) {
					const topic = handle[0];
					const callback = handle[1];
					const thisTopic = this.cache[topic]

					if (thisTopic) {
						if (complety) {
							delete this.cache[topic]
							return false
						}
						let i = thisTopic.length - 1
						for (i; i >= 0; i -= 1) {
							if (thisTopic[i] === callback) {
								this.cache[topic].splice(i)
							}
						}
					}
				}
			}

			// 测试

			// 广播台
			const event = new Events()

			// 订阅一个天气
			const theWeather = event.subscribe('weatherChange', (e) => {
				console.log('现在的天气是', e)
			})

			// 发布一个阴天
			const weather0504 = event.publish('weatherChange', ['阴天'])

			// 发布一个晴天
			const weather0505 = event.publish('weatherChange', ['晴天'])

			// 取消订阅
			event.unsubscribe(theWeather)

			// 发布一个下雨天
			const weather0506 = event.publish('weatherChange', ['下雨天'])
		</script> -->
</body>
</html>
